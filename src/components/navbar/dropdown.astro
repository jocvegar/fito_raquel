---
// import { Dropdown as DropdownContainer, DropdownItems } from "astro-navbar";
const { title, lastItem, children } = Astro.props;
---

<li class="relative">
  <!-- Desktop dropdown -->
  <div class="hidden lg:block">
    <div class="dropdown dropdown-hover">
      <label
        tabindex="0"
        class="flex items-center gap-1 w-full lg:w-auto lg:px-3 py-2 text-primary hover:text-accent cursor-pointer">
        <span class="text-lg md:text-xl tracking-tight font-base">{title}</span>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="3"
          stroke="currentColor"
          class="w-3 h-3 mt-0.5 transition-transform duration-200 group-open:rotate-180">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path>
        </svg>
      </label>
      <ul
        tabindex="0"
        class:list={[
          "dropdown-content menu p-2 shadow bg-white rounded-md w-full lg:w-48 z-10",
          lastItem ? "lg:right-0" : "lg:left-0",
        ]}
      >
        {
          children.map((item) => (
            <li>
              <a
                href={item.path}
                class="py-2 text-primary hover:text-accent text-lg md:text-xl tracking-tight font-base">
                {item.title}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
  </div>

  <!-- Mobile accordion -->
  <div class="block lg:hidden">
    <div class="collapse collapse-arrow">
      <input type="checkbox" />
      <div class="collapse-title font-semibold text-lg md:text-xl tracking-tight text-primary !pl-0">
        {title}
      </div>
      <div class="collapse-content flex flex-col">
        {
          children.map((item) => (
            <a
              href={item.path}
              class="py-2 text-primary hover:text-accent text-base font-base">
              {item.title}
            </a>
          ))
        }
      </div>
    </div>
  </div>
</li>
